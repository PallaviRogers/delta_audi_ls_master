{
	"name": "trigger_ibro_subscriber_activity",
	"properties": {
		"description": "daily trigger to load ibro_subscriber_activity",
		"annotations": [],
		"runtimeState": "Stopped",
		"pipelines": [
			{
				"pipelineReference": {
					"referenceName": "pl_audi_bdw_azure",
					"type": "PipelineReference"
				},
				"parameters": {
					"schema_name": "app_ibro",
					"src_table_name": "ibro_subscriber_activity",
					"tgt_table_name": "ibro_subscriber_activity",
					"column_list": "ENTERPRISE_ID, CUSTOMER_COMPANY, CUSTOMER_ACCOUNT_KEY, DMT_CRYPTO.TOKENIZE(TRIM(CUSTOMER_ACCOUNT),'K1') AS CUSTOMER_ACCOUNT, DMT_CRYPTO.TOKENIZE(TRIM(CUSTOMER_ID),'K1') AS CUSTOMER_ID, DMT_CRYPTO.TOKENIZE(TRIM(CUSTOMER_SUBSCRIBER_NO), 'K1') AS CUSTOMER_SUBSCRIBER_NO , CUSTOMER_MULTI_BRAND_KEY, CUSTOMER_MULTI_PRODUCT_KEY, CUSTOMER_MULTI_SEGMENT_KEY, CUSTOMER_SEGMENT_KEY, CUSTOMER_SEGMENT, CUSTOMER_VALUE_KEY, CUSTOMER_LOCATION_KEY, CUSTOMER_LOCATION_ID, PRODUCT_LOB, PRODUCT_LOB_UNIT, PRODUCT_SOURCE, PRODUCT_PRICE_PLAN, PRODUCT_OFFER, PRODUCT_COMPONENT, PRODUCT_TIER_KEY, PRODUCT_KEY, PRODUCT_CODE, PRODUCT_INSTANCE, PRODUCT_INSTANCE_VERSION, PRODUCT_ACQUISITION, PRODUCT_EQUIPMENT_NO, PRODUCT_BRAND, PRODUCT_SEGMENT_KEY, PRODUCT_SEGMENT, PRODUCT_DEALER_KEY, PRODUCT_DEALER, PRODUCT_QUANTITY, PRODUCT_QUANTITY_ENTERPRISE, PRODUCT_MSF, PRODUCT_MSF_OVERRIDE, PRODUCT_MSF_NET, PRODUCT_MSF_NET_ENTERPRISE, PRODUCT_DISCOUNT_KEY, PRODUCT_DISCOUNT_CODE, PRODUCT_DISCOUNT_TYPE, PRODUCT_DISCOUNT, PRODUCT_ONETIME_AMT, ACTIVITY, ACTIVITY_ENTERPRISE, ACTIVITY_TYPE, ACTIVITY_VALUE, ACTIVITY_VALUE_ENTERPRISE, ACTIVITY_REASON, ACTIVITY_CHURN, ACTIVITY_VOLUNTARY, ACTIVITY_GRADE_RATE_KEY, ACTIVITY_GRADE_DISCOUNT_KEY, ACTIVITY_RECLASS, ACTIVITY_RECLASS_VALUE, ACTIVITY_PORT, ACTIVITY_PORT_OSP, ACTIVITY_PORT_NSP, ACTIVITY_OPERATOR_KEY, ACTIVITY_OPERATOR, ACTIVITY_TECHNICIAN_KEY, ACTIVITY_TECHNICIAN, ACTIVITY_DEALER_KEY, ACTIVITY_DEALER, ACTIVITY_ORDER_ID, ACTIVITY_ORDER_MODE, ACTIVITY_ORDER_STATUS, ACTIVITY_ORDER_ACTION_ID, ACTIVITY_ORDER_ACTION_STATUS, ACTIVITY_ORDER_ACTION_TYPE, ACTIVITY_ORDER_ACTION_SUBTYPE, ACTIVITY_ORDER_ACTION_LINKED, ACTIVITY_SPIN, ACTIVITY_GROUP_KEY, ATTR_BULK_TYPE, ATTR_BULK_PROFILE_NAME, ATTR_BULK_NO_SUITES, ATTR_ADDRESS_SERVICEBILITY, ATTR_ADDRESS_POSTAL_CODE, ATTR_ADDRESS_CONTRACT_GROUP, ATTR_SERVICE_TYPE, ETL_PARTITION_KEY, ETL_INSRT_DT, ETL_INSRT_RUN_ID, PRODUCT_START_DATE, PRODUCT_END_DATE, PRODUCT_DISCOUNT_START_DATE, PRODUCT_DISCOUNT_END_DATE, PROD_OT_HARDWARE_AMT, PROD_OT_PPV_AMT, PROD_OT_SERVICE_AMT, PROD_OT_INSTALLATION_AMT, PROD_OT_DISCR_ADJ_AMT, PROD_OT_NON_DISCR_ADJ_AMT, PROD_OT_OTHER_AMT, CR_KEY, CR_CLASS, COMM_BILL_ENTITY, CYCLE_CODE, CYCLE_CLOSE_DAY, CONSOLIDATED_IND, CONTRACT_CODE, CLUSTER_ID, CONTRACT_EXPIRY_DATE, ACTIVITY_FLIP_IND, ACTIVITY_ORIG_DEALER, ACTIVITY_ORIG_ORDER_ID, ACTIVITY_ORIG_ORDER_ACTION_ID, ACTIVITY_ORIG_BOOK_DATE, ACTIVITY_ORIG_CANC_DATE, PRODUCT_INSTALLATION_IND, PRODUCT_FULFILLMENT_OPTION, ACTIVITY_ORDER_BOOKED_DATE, ACTIVITY_ORDER_SCHEDULED_DATE, DMT_CRYPTO.TOKENIZE(TRIM(CASE WHEN CUSTOMER_COMPANY IS NULL THEN CUSTOMER_ACCOUNT WHEN CUSTOMER_COMPANY IS NOT NULL THEN CONCAT(CUSTOMER_COMPANY, CUSTOMER_ACCOUNT) ELSE NULL END),'K1') AS CUSTOMER_CAN, CAST(STANDARD_HASH(TRIM(CASE WHEN CUSTOMER_COMPANY IS NULL THEN CUSTOMER_ACCOUNT WHEN CUSTOMER_COMPANY IS NOT NULL THEN CONCAT(CUSTOMER_COMPANY,CUSTOMER_ACCOUNT) ELSE NULL END),'SHA256') AS VARCHAR(4000)) AS CUSTOMER_CAN_HASHED, ACTIVITY_DATE",
					"filter_column": "ACTIVITY_DATE",
					"load_type": "incremental",
					"partition_column": "ACTIVITY_DATE"
				}
			}
		],
		"type": "ScheduleTrigger",
		"typeProperties": {
			"recurrence": {
				"frequency": "Day",
				"interval": 1,
				"startTime": "2020-12-09T11:01:00",
				"timeZone": "Eastern Standard Time",
				"schedule": {
					"minutes": [
						0
					],
					"hours": [
						16
					]
				}
			}
		}
	}
}